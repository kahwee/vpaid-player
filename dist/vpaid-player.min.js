!function t(e,i,n){function o(s,c){if(!i[s]){if(!e[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return o(i?i:t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";function n(t,e,i){}function o(t,e,i){Object.defineProperty(t,e,{writable:!1,configurable:!1,value:i})}var r=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],s=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],c=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],a=["setAdVolume"];n.prototype.handshakeVersion=function(t,e){},n.prototype.initAd=function(t,e,i,n,o,r,s){},n.prototype.startAd=function(t){},n.prototype.stopAd=function(t){},n.prototype.skipAd=function(t){},n.prototype.resizeAd=function(t,e,i,n){},n.prototype.pauseAd=function(t){},n.prototype.resumeAd=function(t){},n.prototype.expandAd=function(t){},n.prototype.collapseAd=function(t){},n.prototype.subscribe=function(t,e,i){},n.prototype.unsubscribe=function(t,e){},n.prototype.getAdLinear=function(t){},n.prototype.getAdWidth=function(t){},n.prototype.getAdHeight=function(t){},n.prototype.getAdExpanded=function(t){},n.prototype.getAdSkippableState=function(t){},n.prototype.getAdRemainingTime=function(t){},n.prototype.getAdDuration=function(t){},n.prototype.getAdVolume=function(t){},n.prototype.getAdCompanions=function(t){},n.prototype.getAdIcons=function(t){},n.prototype.setAdVolume=function(t,e){},o(n,"METHODS",r),o(n,"GETTERS",c),o(n,"SETTERS",a),o(n,"EVENTS",s);var d=r.filter(function(t){return["skipAd"].indexOf(t)===-1});o(n,"checkVPAIDInterface",function(t){var e=d.every(function(e){return"function"==typeof t[e]});return e}),e.exports=n},{}],2:[function(t,e,i){"use strict";function n(t,e,i,n){this._isValid=u(t),this._isValid&&(this._creative=t,this._el=e,this._videoEl=i,this._iframe=n,this._subscribers=new d,p.setFullSizeStyle(e),o.call(this))}function o(){if(h.forEach(function(t){this._creative.subscribe(s.bind(this,t),t)}.bind(this)),this._creative.subscribe(r.bind(this),f),this._videoEl){var t=this._iframe.contentDocument.documentElement,e=this._videoEl;t.addEventListener("click",function(i){i.target===t&&e.click()})}}function r(t,e,i){this._subscribers.triggerSync(f,{url:t,id:e,playerHandles:i})}function s(t){this._subscribers.trigger(t,Array.prototype.slice(arguments,1))}function c(t,e,i,n){t?t(i,n):i&&e.trigger(l,i)}var a=t("./IVPAIDAdUnit"),d=t("./subscriber"),u=a.checkVPAIDInterface,p=t("./utils"),l=(a.METHODS,"AdError"),f="AdClickThru",h=a.EVENTS.filter(function(t){return t!=f});n.prototype=Object.create(a.prototype),n.prototype.isValidVPAIDAd=function(){return this._isValid},a.METHODS.forEach(function(t){var e=["subscribe","unsubscribe","initAd"];e.indexOf(t)===-1&&(n.prototype[t]=function(){var e=a.prototype[t].length,i=Array.prototype.slice.call(arguments),n=e===i.length?i.pop():void 0;setTimeout(function(){var e,o=null;try{e=this._creative[t].apply(this._creative,i)}catch(t){o=t}c(n,this._subscribers,o,e)}.bind(this),0)})}),n.prototype.initAd=function(t,e,i,n,o,r,s){o=o||{},r=p.extend({slot:this._el,videoSlot:this._videoEl},r||{}),setTimeout(function(){var a;try{this._creative.initAd(t,e,i,n,o,r)}catch(t){a=t}c(s,this._subscribers,a)}.bind(this),0)},n.prototype.subscribe=function(t,e,i){this._subscribers.subscribe(e,t,i)},n.prototype.unsubscribe=function(t,e){this._subscribers.unsubscribe(e,t)},n.prototype.on=n.prototype.subscribe,n.prototype.off=n.prototype.unsubscribe,a.GETTERS.forEach(function(t){n.prototype[t]=function(e){setTimeout(function(){var i,n=null;try{i=this._creative[t]()}catch(t){n=t}c(e,this._subscribers,n,i)}.bind(this),0)}}),n.prototype.setAdVolume=function(t,e){setTimeout(function(){var i,n=null;try{this._creative.setAdVolume(t),i=this._creative.getAdVolume()}catch(t){n=t}n||(n=p.validate(i===t,"failed to apply volume: "+t)),c(e,this._subscribers,n,i)}.bind(this),0)},n.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},e.exports=n},{"./IVPAIDAdUnit":1,"./subscriber":4,"./utils":5}],3:[function(t,e,i){"use strict";function n(t,e,i,n){i=i||{},this._id=f(),this._destroyed=!1,this._frameContainer=l.createElementInEl(t,"div"),this._videoEl=e,this._vpaidOptions=n||{timeout:1e4},this._templateConfig={template:i.template||y,extraOptions:i.extraOptions||{}}}function o(t){var e=this[t];e&&(e.remove(),delete this[t])}function r(){c.call(this),delete this._adUnit}function s(){c.call(this),d.call(this)}function c(){o.call(this,"_frame"),a.call(this)}function a(){this._onLoad&&(window.removeEventListener("message",this._onLoad),l.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function d(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function u(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}function p(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var l=t("./utils"),f=l.unique("vpaidIframe"),h=t("./VPAIDAdUnit"),y='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"></script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');</script></body></html>',A="AdStopped";n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,s.call(this))},n.prototype.isDestroyed=function(){return this._destroyed},n.prototype.loadAdUnit=function(t,e){function i(t){if(t.origin===p()){var i=JSON.parse(t.data);if(i.id===o.getID()){var n,s,c;if(o._frame.contentWindow?(c=o._frame.contentWindow.getVPAIDAd,s=l.validate("function"==typeof c,"the ad didn't return a function to create an ad")):s="the iframe is not anymore in the DOM tree",!s){var d=o._frame.contentWindow.document.querySelector(".ad-element");n=new h(c(),d,o._videoEl,o._frame),n.subscribe(A,r.bind(o)),s=l.validate(n.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return o._adUnit=n,a.call(o),e(s,s?null:n),!0}}}function n(){e("timeout",null)}u.call(this),s.call(this);var o=this,c=l.createIframeWithContent(this._frameContainer,this._templateConfig.template,l.extend({iframeURL_JS:t,iframeID:this.getID(),origin:p()},this._templateConfig.extraOptions));this._frame=c,this._onLoad=l.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),n.bind(this)),window.addEventListener("message",this._onLoad)},n.prototype.unloadAdUnit=function(){s.call(this)},n.prototype.getID=function(){return this._id},e.exports=n},{"./VPAIDAdUnit":2,"./utils":5}],4:[function(t,e,i){"use strict";function n(){this._subscribers={}}n.prototype.subscribe=function(t,e,i){this.isHandlerAttached(t,e)||this.get(e).push({handler:t,context:i,eventName:e})},n.prototype.unsubscribe=function(t,e){this._subscribers[e]=this.get(e).filter(function(e){return t!==e.handler})},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(t,e){var i=this,n=this.get(t).concat(this.get("*"));n.forEach(function(t){setTimeout(function(){i.isHandlerAttached(t.handler,t.eventName)&&t.handler.call(t.context,e)},0)})},n.prototype.triggerSync=function(t,e){var i=this.get(t).concat(this.get("*"));i.forEach(function(t){t.handler.call(t.context,e)})},n.prototype.get=function(t){return this._subscribers[t]||(this._subscribers[t]=[]),this._subscribers[t]},n.prototype.isHandlerAttached=function(t,e){return this.get(e).some(function(e){return t===e.handler})},e.exports=n},{}],5:[function(t,e,i){"use strict";function n(){}function o(t,e){return t?null:new Error(e)}function r(t){var e=y[t];e&&(clearTimeout(e),delete y[t])}function s(t,e,i){var o,s;return s=setTimeout(function(){e=n,delete s[o],i()},t),o=function(){e.apply(this,arguments)&&r(o)},y[o]=s,o}function c(t,e,i){var n=document.createElement(e);return i&&(n.id=i),t.appendChild(n),n}function a(t,e,i){var n=d(t,null,i.zIndex);if(l(n,p(e,i)))return n}function d(t,e,i){var n=document.createElement("iframe");return n.src=e||"about:blank",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.width="100%",n.height="100%",u(n),i&&(n.style.zIndex=i),n.setAttribute("SCROLLING","NO"),t.innerHTML="",t.appendChild(n),n}function u(t){t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.width="100%",t.style.height="100%"}function p(t,e){return Object.keys(e).forEach(function(i){var n="object"==typeof n?JSON.stringify(e[i]):e[i];t=t.replace(new RegExp("{{"+i+"}}","g"),n)}),t}function l(t,e){var i=t.contentWindow&&t.contentWindow.document;return!!i&&(i.write(e),!0)}function f(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}function h(t){var e=-1;return function(){return t+"_"+ ++e}}var y={};e.exports={noop:n,validate:o,clearCallbackTimeout:r,callbackTimeout:s,createElementInEl:c,createIframeWithContent:a,createIframe:d,setFullSizeStyle:u,simpleTemplate:p,setIframeContent:l,extend:f,unique:h}},{}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=t("vpaid-html5-client"),r=n(o);window.vpaid=new r.default(document.getElementById("container"),document.getElementById("video"),{})},{"vpaid-html5-client":3}]},{},[6]);